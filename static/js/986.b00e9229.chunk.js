"use strict";(self.webpackChunkgsn=self.webpackChunkgsn||[]).push([[986],{3986:function(e,r,s){s.r(r),s.d(r,{default:function(){return M}});var n=s(1413),t=s(9439),o=s(1134),a=s(3017),l=s(364),c="Login_logFormInput__YmWHv",i="Login_captcha__+56Kx",u=s(2791),d=s(7689),h=s(7208),m=s(7846),f=s(2999),p=s(3254),g=s(9570),x=s(650),v=s(7462),j={icon:function(e,r){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M81.8 537.8a60.3 60.3 0 010-51.5C176.6 286.5 319.8 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c-192.1 0-335.4-100.5-430.2-300.2z",fill:r}},{tag:"path",attrs:{d:"M512 258c-161.3 0-279.4 81.8-362.7 254C232.6 684.2 350.7 766 512 766c161.4 0 279.5-81.8 362.7-254C791.4 339.8 673.3 258 512 258zm-4 430c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z",fill:r}},{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258s279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766z",fill:e}},{tag:"path",attrs:{d:"M508 336c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z",fill:e}}]}},name:"eye",theme:"twotone"},Z=s(4291),w=function(e,r){return u.createElement(Z.Z,(0,v.Z)({},e,{ref:r,icon:j}))};var F=u.forwardRef(w),R=s(8272),b=s(184),C=x.Z.Title,y=m.Z.Item,I=function(e){var r,s,a,l=e.logIn,c=e.captcha,d=e.isFetching,x=(0,o.cI)({defaultValues:{email:"",password:"",captcha:"",rememberMe:!1}}),v=(x.register,x.handleSubmit),j=(x.reset,x.setError),Z=x.clearErrors,w=x.control,C=x.formState.errors,I=m.Z.useForm(),M=(0,t.Z)(I,1)[0];(0,u.useEffect)((function(){console.log(C,"form errors"),C.serverResponse&&console.log(C.serverResponse,"++++")}),[C]);var z=function(){C&&C.serverResponse&&C.serverResponse.message.length>0&&Z("serverResponse")};return d?(0,b.jsx)(h.Z,{}):(0,b.jsxs)(m.Z,{style:{display:"flex",flexDirection:"column",gap:"16px",textAlign:"center"},onFinish:v((function(e){l(e,j)})),form:M,children:[(0,b.jsx)(y,{children:(0,b.jsx)(o.Qr,{name:"email",control:w,render:function(e){var r=e.field;return(0,b.jsx)(f.Z,(0,n.Z)((0,n.Z)({placeholder:"Email"},r),{},{onFocus:z}))}})}),(0,b.jsx)(y,{children:(0,b.jsx)(o.Qr,{name:"password",control:w,render:function(e){var r=e.field;return(0,b.jsx)(f.Z.Password,(0,n.Z)((0,n.Z)({iconRender:function(e){return e?(0,b.jsx)(F,{}):(0,b.jsx)(R.Z,{})},placeholder:"Password"},r),{},{onFocus:z}))}})}),null!==C&&void 0!==C&&null!==(r=C.serverResponse)&&void 0!==r&&r.message?(0,b.jsx)("p",{style:{color:"red"},children:C.serverResponse.message}):(0,b.jsx)(b.Fragment,{}),(0,b.jsx)(y,{validateStatus:null!==C&&void 0!==C&&null!==(s=C.serverResponse)&&void 0!==s&&s.message?"error":"",help:null!==C&&void 0!==C&&null!==(a=C.serverResponse)&&void 0!==a&&a.message?"Email or Password is wrong":"",children:(0,b.jsx)(o.Qr,{name:"rememberMe",control:w,render:function(e){var r=e.field;return(0,b.jsx)(p.Z,(0,n.Z)((0,n.Z)({},r),{},{children:"Remember Me"}))}})}),(0,b.jsx)(g.ZP,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"Login"}),c?(0,b.jsxs)("div",{className:i,children:[(0,b.jsx)("img",{src:c,alt:"captcha"}),(0,b.jsx)(f.Z,{type:"text"})]}):(0,b.jsx)(b.Fragment,{})]})},M=(0,l.$j)((function(e){return{auth:e.auth}}),{logIn:a.Ib})((function(e){var r=e.auth,s=e.logIn;return(0,b.jsx)(b.Fragment,{children:r.isAuth?(0,b.jsx)(d.Fg,{to:"/profile"}):(0,b.jsxs)("div",{className:c,children:[(0,b.jsx)(C,{level:3,children:"LOGIN"}),(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),(0,b.jsx)(I,{logIn:s,captcha:r.captcha,isFetching:r.isFetching})]})})}))}}]);
//# sourceMappingURL=986.b00e9229.chunk.js.map